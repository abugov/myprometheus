version: "3.3"
services:
  application1:
    build: ./application/
    ports:
      - "8081:8080"
  application2:
    build: ./application/
    ports:
      - "8082:8080"
  prometheus:
    image: prom/prometheus
    ports:
      - "9091:9090"
    volumes:
      - type: bind 
        source: ./prometheus/prometheus.yml
        target: /etc/prometheus/prometheus.yml
  grafana:
    image: grafana/grafana-enterprise
    restart: unless-stopped
    ports:
     - '3000:3000'
    #volumes:
    #  - grafana-storage:/var/lib/grafana
#volumes:
  #grafana-storage: {}